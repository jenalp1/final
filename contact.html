<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us</title>
    <!-- picnic css framework -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/picnic">
    <!-- google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Alegreya+Sans:ital,wght@0,100;0,300;0,400;0,500;0,700;0,800;0,900;1,100;1,300;1,400;1,500;1,700;1,800;1,900&family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&display=swap" rel="stylesheet">
    <link rel ="stylesheet" href ="css/primary_styles.css">
    <!-- stylesheet -->
    <link rel = "stylesheet" href ="css/contact_styles.css">
</head>

    <body>
    <header>
    <nav class="nav">
        <a href="index.html" class="brand"> 
            <img class="logo" src="img/logo.png" alt="picture of the coffee shop logo"></a>

        <input id="bmenub" type="checkbox" class="show">

        <label for="bmenub" class="burger">&#9776;</label>

    <div class="menu">

        <label for="bmenub" class="close">&times;</label>

        <a href="index.html" class="button">Home</a>
        <a href="menu.html" class="button">Menu</a>
        <a href="about.html" class="button">About</a>
        <a href="contact.html" class="button">Contact</a>
    </div>
    </nav>
    </header>

    <main>
        <section class="contact-header">
            <div class="contact-header-text">
                <h1>Contact Us</h1>
            </div>
        </section>

            <p class ="additional_message">We would love to hear from you! Send us a message and we'll get back to you as soon as possible.</p>
        

            <form class="contact-form" id="contact-form">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" placeholder="John Doe" required>

                <label for ="phone_number">Phone Number:</label>
                <input type ="tel" id="phone_number" name ="phone_number" placeholder ="123-456-7890" required>

                <label for="email">Email Address:</label>
                <input type="email" id="email" name="email" placeholder="johndoe@gmail.com" required>

                <label for="subject">Subject:</label>
                <input type="text" id="subject" name="subject" placeholder="Message subject" required>

                <label for="message">Message:</label>
                <textarea id="message" name="message" rows="5" placeholder="We love to hear your concerns, suggestions, and feedback!" required></textarea>

                <button type="submit">Send Message</button>
                <p id="form-status"></p>

        </form>
    </main>

    <footer>
        <div class = "site-footer">
            <div class = "footer-column">
                <p>&copy; Tar Heel Coffeehouse</p>
            </div>
            <div class = "footer-column">
                <p> Weekday Hours: Mon-Fri 7am-7pm</p>
            </div>
            <div class = "footer-column">
                <p> Weekend Hours: Sat: 9am-3pm, Sun 8am-2pm</p>
            </div>
            <div class = "footer-column">
                <p> Address: 123 Coffee St, Chapel Hill, NC 27514</p>
            </div>
            <div class = "footer-column">
                <p> Phone: (555) 123-4567</p>
            </div>
        </div>
    </footer>

<script>
const form = document.getElementById("contact-form");
const status = document.getElementById("form-status");

form.addEventListener("submit", (e) => {
// 1. STOP the default browser behavior
e.preventDefault();

status.innerText = "Sending your message...";

const data = new FormData(form);

// Your Google Script URL
const action = "https://script.google.com/macros/s/AKfycbzhcjek88zqSMQzbRK2icetRpkgpB54PfjO5DgmLEqLGlbR4WeJ1CEwNSipWu6Sk9Ci/exec";

// 2. The Fetch Request with 'no-cors'
fetch(action, {
method: "POST",
body: data,
mode: "no-cors", // <--- THIS IS CRITICAL FOR GOOGLE SHEETS
})
.then(() => {
// With 'no-cors', we can't read the server response,
// so we assume success if no error was thrown.
status.innerText = "Message sent successfully!";
form.reset();
})
.catch((error) => {
status.innerText = "Oops! There was a problem.";
console.error("Error:", error);
});
});
</script>

</body>
</html>